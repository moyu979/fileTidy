
# 这是什么

一个自用的文件整理小工具，根据md5的值自动去重和合并，并且半自动追踪文件的更改情况和存储路径。

# 免责

自用道具，如果有可能的潜在用户，请勿用于重要环境，如果非要用，建议对原目录进行快照后再使用，并时刻关注数据记录是否出错。

# 怎么用

在使用前，需要新建一个文件夹，用于存储路径变化信息(下称仓库)，在新建文件夹下执行./core/Init.py，即可初始化文件夹。

在下载文件后，在仓库路径下执行./core/download.py文件，会要求你输入保存文件的文件仓库(下称文件仓库)，代码会自动计算哈希值，删掉相同的文件并在原地生成"redirect.txt"，记录被删除文件的文件名和哈希值，以供恢复

然后需要手动整理文件，使用一个大文件夹包含"tidy","unzip","zip"和"delete"四个子文件夹，其中，tidy存放大致归类的文件，unzip有若干子文件夹，每个子文件夹有一个zip文件和一个孙文件夹，zip文件是解压的对象，孙文件夹内存放解压得到的内容，可以有多个孙文件夹，但每个孙文件夹的内容必须相同，此时各个孙文件夹相互对照，以保证解压的正确。zip类似，只不过孙文件夹是压缩的内容，而zip文件是压缩产物，delete中存放有要删除的文件。

而后运行./core/tidy.py，会将文件记录到仓库的tidy子目录下的new中。

下面运行premove，会基于哈希值进行比对，如果有和最终仓库中文件相同的哈希，会将前后目录记录到仓库中以日期命名的文件夹中，手动进行全文件比对或直接删除即可。

最后将文件归档入最终仓库，然后运行aftermove，会找出最终仓库中不存在记录的部分，在tidy中找到相应的文件后移动到final中。