# fileTidyScripts

这是一个个人用来管理自己的文件库的python小脚本合集，主要功能有：
1. 文件级去重
2. 文件移动追踪
3. 文件索引

## 工作流程
### 下载文件后
运行 afterdownload.py 文件,参数为存放下载完成文件的位置。

新下载的文件会和“downloads”文件夹中的最新记录中的文件一同被写入名为“new.txt”的文本文件中，旧的“new.txt”会被以“<废弃日期>_in.txt”命名。

此时文件的哈希值将被计算，同时进行文件夹内部的第一轮去重。

### 手动整理文件后
运行“waitmoving”，参数为整理好的文件夹，

整理好的文件会被以路径的形式登记，并标记哈希值，记录在"organized"文件中，
### 文件归档后

### 文件移动后


## 记录结构

|item       |结构   |作用               |其他解释|
|---        |---    |---                |---|
|hashMd5    |str    |文件的哈希值       |当出现哈希碰撞时，使用-n来记录重复序号|
|originPath |str[]  |文件下载后的路径   |鉴于有可能下载到重复文件，有可能存在多个|
|end        |str    |结束标记           |   |
|changePath |str[]  |文件的变化纪录     |在导入时就已经进行了去重，因此文件的变化记录仅记录存在的文件，是线性结构，而被删除的文件会被记录在相对文件夹中的“redirect.txt中”   |
|unzipFrom  |str[]  |从某个文件解压而来 |对已有的压缩包进行解压以消除密码和方便查阅，不同压缩包的内容可能相同|
|zipTo      |str[]  |压缩至             |对小文件可能采取压缩的方式以节约空间和加快索引速度，因此可能会产生一些压缩文件|
|nowPath    |str    |现在的存储路径     |自动生成|
|nowName    |str    |现在的文件名       |自动生成|

## 文件结构
|文件夹|解释|
|---|---|
|downloads  |下载后的文件的生成记录被记录在这里，在转移后会被删除，并产生更新后的文件|
|organize   |整理的记录表，每次使用后都会以日期保留|
|final      |最终的记录表|
|passwords  |压缩包的密码字典，暴力解压用，***警告：不是现在压缩包的密码，不会使用加密***   |
|disks      |存储硬盘的相关信息（总大小，剩余空间，特定smart信息等）|
